{
    // 使用 IntelliSense 了解相关属性。 
    // 悬停以查看现有属性的描述。
    // 欲了解更多信息，请访问: https://go.microsoft.com/fwlink/?linkid=830387
    "version": "0.2.0",
    "configurations": [
        {
            "name": "Python 调试程序: 当前文件",
            "type": "debugpy",
            "request": "launch",
            "program": "${file}",
            "console": "integratedTerminal",
            "env": {
                "CUDA_VISIBLE_DEVICES": "6"
            }
        },
        {
            "name": "Train WanX",
            "type": "debugpy",
            "request": "launch",
            "program": "scripts/train_wanx.py",
            "args": [
                "--pretrained_model_name_or_path=/cv/models/Wan2.1-T2V-14B-Diffusers",
                "--train_data_dir=''",
                "--train_data_meta=datasets/movie_4k/train_set.json",
                "--config_path",
                "config/wanx2.1.yaml",
                "--image_sample_size=1024",
                "--video_sample_size=256",
                "--token_sample_size=512",
                "--video_sample_stride=2",
                "--video_sample_n_frames=49",
                "--train_batch_size=1",
                "--video_repeat=1",
                "--gradient_accumulation_steps=1",
                "--dataloader_num_workers=8",
                "--num_train_epochs=2000",
                "--checkpointing_steps=100",
                "--learning_rate=2e-05",
                "--lr_scheduler=constant_with_warmup",
                "--lr_warmup_steps=100",
                "--seed=42",
                "--output_dir=output_dir/venom_my_picks",
                "--gradient_checkpointing",
                "--mixed_precision=bf16",
                "--adam_weight_decay=5e-3",
                "--adam_epsilon=1e-10",
                "--vae_mini_batch=1",
                "--max_grad_norm=0.05",
                "--random_hw_adapt",
                "--training_with_video_token_length",
                "--enable_bucket",
                "--uniform_sampling",
                "--use_deepspeed",
                "--train_mode=normal",
                "--trainable_modules=.",
                "--loss_type=flow"
            ],
            "console": "integratedTerminal",
            "env": {
                "CUDA_VISIBLE_DEVICES": "2"
            }
        },
        {
            "name": "Train EasyAnimate Inpaint",
            "type": "debugpy",
            "request": "launch",
            "program": "scripts/train.py",
            "args": [
                "--pretrained_model_name_or_path=/cv/models/EasyAnimateV5.1-12b-zh-InP",
                "--train_data_dir=''",
                "--train_data_meta=datasets/venom/my_picks/my_pick_list_only_video.json",
                "--config_path",
                "config/easyanimate_video_v5.1_magvit_qwen.yaml",
                "--image_sample_size=1024",
                "--video_sample_size=1024",
                "--token_sample_size=768",
                "--video_sample_stride=2",
                "--video_sample_n_frames=49",
                "--train_batch_size=1",
                "--video_repeat=1",
                "--gradient_accumulation_steps=1",
                "--dataloader_num_workers=8",
                "--num_train_epochs=2000",
                "--checkpointing_steps=100",
                "--learning_rate=2e-05",
                "--lr_scheduler=constant_with_warmup",
                "--lr_warmup_steps=100",
                "--seed=42",
                "--output_dir=output_dir/venom_my_picks",
                "--gradient_checkpointing",
                "--mixed_precision=bf16",
                "--adam_weight_decay=5e-3",
                "--adam_epsilon=1e-10",
                "--vae_mini_batch=1",
                "--max_grad_norm=0.05",
                "--random_hw_adapt",
                "--training_with_video_token_length",
                "--enable_bucket",
                "--uniform_sampling",
                "--use_deepspeed",
                "--train_mode=inpaint",
                "--trainable_modules=.",
                "--loss_type=flow"
            ],
            "console": "integratedTerminal",
            "env": {
                "CUDA_VISIBLE_DEVICES": "2"
            }
        },
        {
            "name": "Train EasyAnimate T2V",
            "type": "debugpy",
            "request": "launch",
            "program": "scripts/train.py",
            "args": [
                // "--pretrained_model_name_or_path=/cv/models/EasyAnimateV5.1-12b-zh",
                "--pretrained_model_name_or_path=/cv/models/EasyAnimateV5-12b-zh",
                "--train_data_dir=''",
                "--train_data_meta=datasets/movie_4k/train_set.json",
                "--config_path",
                // "config/easyanimate_video_v5.1_magvit_qwen.yaml",
                "config/easyanimate_video_v5_magvit_multi_text_encoder.yaml",
                "--image_sample_size=1344",
                "--video_sample_size=256",
                "--token_sample_size=1024",
                "--video_sample_stride=2",
                "--video_sample_n_frames=49",
                "--train_batch_size=1",
                "--video_repeat=1",
                "--gradient_accumulation_steps=1",
                "--dataloader_num_workers=8",
                "--num_train_epochs=2000",
                "--checkpointing_steps=100",
                "--learning_rate=2e-05",
                "--lr_scheduler=constant_with_warmup",
                "--lr_warmup_steps=100",
                "--seed=42",
                "--output_dir=output_dir/venom_my_picks",
                "--gradient_checkpointing",
                "--mixed_precision=bf16",
                "--adam_weight_decay=5e-3",
                "--adam_epsilon=1e-10",
                "--vae_mini_batch=1",
                "--max_grad_norm=0.05",
                "--random_hw_adapt",
                "--training_with_video_token_length",
                "--enable_bucket",
                "--uniform_sampling",
                "--use_deepspeed",
                "--train_mode=normal",
                "--trainable_modules=.",
                "--loss_type=flow"
            ],
            "console": "integratedTerminal",
            "env": {
                "CUDA_VISIBLE_DEVICES": "2"
            }
        },
        {
            "name": "Train EasyAnimate Inpaint LORA",
            "type": "debugpy",
            "request": "launch",
            "program": "scripts/train_lora.py",
            "args": [
                "--pretrained_model_name_or_path=/cv/models/EasyAnimateV5.1-12b-zh-InP",
                "--train_data_dir=''",
                "--train_data_meta=datasets/venom/my_picks/my_pick_list_only_video_original_speed.json",
                "--config_path",
                "config/easyanimate_video_v5.1_magvit_qwen.yaml",
                "--rank",
                "128",
                "--network_alpha",
                "64",
                // "--train_text_encoder",
                "--image_sample_size=1344",
                "--video_sample_size=256",
                "--token_sample_size=1024",
                "--video_sample_stride=3",
                "--video_sample_n_frames=49",
                "--train_batch_size=1",
                "--video_repeat=1",
                "--gradient_accumulation_steps=1",
                "--dataloader_num_workers=8",
                "--num_train_epochs=2000",
                "--checkpointing_steps=100",
                "--learning_rate=1e-4",
                "--lr_scheduler=constant_with_warmup",
                "--lr_warmup_steps=100",
                "--seed=42",
                "--output_dir=output_dir/venom_my_picks_lora",
                "--gradient_checkpointing",
                "--mixed_precision=bf16",
                "--adam_weight_decay=5e-2",
                "--adam_epsilon=1e-10",
                "--vae_mini_batch=1",
                "--max_grad_norm=0.05",
                "--random_hw_adapt",
                "--training_with_video_token_length",
                "--enable_bucket",
                "--uniform_sampling",
                "--use_deepspeed",
                "--train_mode=inpaint",
                "--loss_type=flow"
            ],
            "console": "integratedTerminal",
            "env": {
                "CUDA_VISIBLE_DEVICES": "2"
            }
        },

        {
            "name": "Train WanX reward lora",
            "type": "debugpy",
            "request": "launch",
            "program": "scripts/train_reward_lora_wan.py",
            "args": [
                "--pretrained_model_name_or_path=/cv/models/Wan2.1-T2V-1.3B-Diffusers",
                "--config_path", "config/wanx2.1.yaml",
                "--train_batch_size=1",
                "--rank", "128",
                "--network_alpha", "64",
                "--gradient_accumulation_steps=1",
                "--max_train_steps=10000",
                "--checkpointing_steps=100",
                "--learning_rate=1e-05",
                "--seed=42",
                "--output_dir=output_dir/lora_wanx_reward",
                "--gradient_checkpointing",
                "--mixed_precision=bf16",
                "--adam_weight_decay=3e-2",
                "--adam_epsilon=1e-10",
                "--max_grad_norm=0.3",
                "--low_vram",
                "--use_deepspeed",
                "--prompt_path=datasets/moviegen_benchmark.txt",
                "--train_sample_height=512",
                "--train_sample_width=512",
                "--video_length=49",
                "--num_decoded_latents=1",
                "--reward_fn=HPSReward",
                "--reward_fn_kwargs={\"version\": \"v2.1\"}",
                "--backprop_strategy=tail",
                "--backprop_num_steps=10",
                "--backprop",
                "--guidance_scale", "5"
            ],
            "console": "integratedTerminal",
            "env": {
                "CUDA_VISIBLE_DEVICES": "1"
            }
        },
    ]
}